(this.webpackJsonpmy_mini_app=this.webpackJsonpmy_mini_app||[]).push([[0],{168:function(e,t,c){},169:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(66),s=c.n(r),a=c(33),i=c.n(a),o=c(54),j=c.n(o),l=c(76),b=c(38),h=c(32),u=c(60),d=c(52),p=c(31),O=c(47),x=(c(166),c(170)),f=c(43),m=c(34),g=c(50),y=c(62),v=c(49),S=c(63),k=c(8),w=function(e){var t=e.id,c=(e.go,e.fetchedUser),r=e.role,s=e.o;return Object(k.jsxs)(f.a,{id:t,children:[Object(k.jsx)(m.a,{children:"\u0425\u0430\u0442\u0430"}),c&&Object(k.jsx)(n.Fragment,{children:Object(k.jsx)(g.a,{children:Object(k.jsx)(y.a,{before:c.photo_200?Object(k.jsx)(p.a,{src:c.photo_200}):null,description:c.city&&c.city.title?c.city.title:"",children:"".concat(c.first_name," ").concat(c.last_name)})})}),!r&&Object(k.jsx)(n.Fragment,{children:Object(k.jsx)(g.a,{children:Object(k.jsx)(v.a,{top:"\u0420\u043e\u043b\u044c",children:Object(k.jsx)(S.a,{options:[{name:"\u0423\u0447\u0435\u043d\u0438\u043a",value:"stud"},{name:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c",value:"teach"}],onSwitch:function(e){s(e)}})})})}),"stud"==r&&Object(k.jsxs)(n.Fragment,{children:[Object(k.jsxs)("h1",{children:["\u0422\u044b ",r]}),Object(k.jsx)("h2",{children:"\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0438\u0441\u043a\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0435 \u0442\u0435\u0431\u044f \u043a\u0443\u0440\u0441\u044b \u0438 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0441\u0432\u043e\u0438\u043c \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435\u043c"})]}),"teach"==r&&Object(k.jsxs)(n.Fragment,{children:[Object(k.jsxs)("h1",{children:["\u0422\u044b ",r]}),Object(k.jsx)("h2",{children:"\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438 \u043a\u0443\u0440\u0441\u044b \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0438 \u043f\u0440\u044f\u043c\u043e \u0437\u0434\u0435\u0441\u044c"})]})]})},_=c(35),I=c(58),U=c(46),A=(c(168),c(45)),E=function(e){var t=e.id,c=e.snackBarError,r=e.fetchedUser,s=e.userHasSeeIntro,a=e.go;return Object(k.jsxs)(f.a,{id:t,centered:!0,children:[Object(k.jsx)(m.a,{children:"Tracker Education"}),!s&&r&&Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)(O.d,{children:Object(k.jsxs)(A.a,{className:"User",children:[r.photo_200&&Object(k.jsx)(p.a,{src:r.photo_200}),Object(k.jsxs)("h2",{children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",r.first_name,"!"]}),Object(k.jsx)("h4",{children:"\u042d\u0442\u043e \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u0430 \u043e\u0444\u0444\u043b\u0430\u0439\u043d \u043a\u0440\u0443\u0436\u043a\u043e\u0432!"})]})}),Object(k.jsxs)(A.a,{className:"Button",children:[Object(k.jsxs)(I.a,{size:"s",children:[Object(k.jsx)(U.a,{image:"https://pbs.twimg.com/profile_images/570586763576365056/yQpjwZsy.jpeg",subtitle:"\u0424\u041e\u0422\u041e\u0427\u041a\u0410 \u0421 \u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415\u041c \u0424\u0423\u041d\u041a\u0426\u0418\u041e\u041d\u0410\u041b\u0410",header:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c",text:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c",caption:"Photo by Meshi Marlboro"}),Object(k.jsx)(U.a,{image:"https://pbs.twimg.com/profile_images/570586763576365056/yQpjwZsy.jpeg",subtitle:"\u0424\u041e\u0422\u041e\u0427\u041a\u0410 \u0421 \u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415\u041c \u0424\u0423\u041d\u041a\u0426\u0418\u041e\u041d\u0410\u041b\u0410",header:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c \u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c ",text:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c",caption:"Photo by Meshi Marlboro"}),Object(k.jsx)(U.a,{image:"https://pbs.twimg.com/profile_images/570586763576365056/yQpjwZsy.jpeg",subtitle:"\u0424\u041e\u0422\u041e\u0427\u041a\u0410 \u0421 \u041e\u041f\u0418\u0421\u0410\u041d\u0418\u0415\u041c \u0424\u0423\u041d\u041a\u0426\u0418\u041e\u041d\u0410\u041b\u0410",header:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c",text:"\u041f\u041e\u0417\u041d\u0410\u041a\u041e\u041c\u0418\u0422\u042c \u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u0422\u0415\u041b\u042f \u0421 \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u0415\u041c",caption:"Photo by Meshi Marlboro"})]}),Object(k.jsx)(_.a,{vertical:"bottom",children:Object(k.jsx)(O.c,{size:"l",mode:"commerce",onClick:a,children:"\u041e\u043a"})})]})]}),c]})},T="home",C="intro",M={STATUS:"status"},z=function(){var e=Object(n.useState)(C),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(null),a=Object(b.a)(s,2),o=a[0],f=a[1],m=Object(n.useState)(Object(k.jsx)(u.a,{size:"large"})),g=Object(b.a)(m,2),y=g[0],v=g[1],S=Object(n.useState)(!1),_=Object(b.a)(S,2),I=_[0],U=_[1],A=Object(n.useState)(!1),z=Object(b.a)(A,2),B=z[0],F=z[1],K=Object(n.useState)(""),N=Object(b.a)(K,2),V=N[0],W=N[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,i.a.send("VKWebAppStorageGet",{keys:Object.values(M)});case 5:c=e.sent,n={},c.keys.forEach((function(e){var t=e.key,c=e.value;try{switch(n[t]=c?JSON.parse(c):{},console.log(n[t]),t){case M.STATUS:console.log(n[t].hasSeenIntro),n[t].hasSeenIntro=!1,n[t]&&n[t].hasSeenIntro?(r(T),U(!0)):(r(C),U(!1))}}catch(s){F(Object(k.jsx)(d.a,{layout:"vertical",onClose:function(){return F(null)},before:Object(k.jsx)(p.a,{size:24,style:{backgroundColor:"var(--dynamic-red)"},children:Object(k.jsx)(x.a,{fill:"#fff",width:"14",height:"14"})}),duration:900,children:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u043a\u0430 \u0441 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435\u043c"}))}})),f(t),v(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,c=t.type,n=t.data;if("VKWebAppUpdateConfig"===c){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var J=function(e){r(e)},P=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.send("VKWebAppStorageSet",{key:M.STATUS,value:JSON.stringify({hasSeenIntro:!0})});case 3:J(T),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F(Object(k.jsx)(d.a,{layout:"vertical",onClose:function(){return F(null)},before:Object(k.jsx)(p.a,{size:24,style:{backgroundColor:"var(--dynamic-red)"},children:Object(k.jsx)(x.a,{fill:"#fff",width:"14",height:"14"})}),duration:900,children:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u043a\u0430 c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439"}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(O.a,{children:Object(k.jsx)(O.b,{children:Object(k.jsxs)(h.a,{activePanel:c,popout:y,children:[Object(k.jsx)(E,{id:C,fetchedUser:o,go:P,snackBarError:B,userHasSeeIntro:I}),Object(k.jsx)(w,{id:T,fetchedUser:o,go:J,snackBarError:B,role:V,o:W})]})})})};i.a.send("VKWebAppInit"),s.a.render(Object(k.jsx)(z,{}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.3a438b74.chunk.js.map